# ECサイト要件定義書

## プロジェクト概要
ShopFlow - 流れるような買い物体験

**システム概要:**
Next.js（フロントエンド）+ Laravel API（バックエンド）を使用したモダンなECサイト

## 機能要件

### 1. 顧客向け機能（toC）

#### 1.1 商品機能
- 商品一覧表示（カテゴリ別、検索、フィルタリング）
- 商品詳細表示（画像、説明、価格、在庫状況）
- 商品レビュー・評価機能
- 関連商品・おすすめ商品表示

#### 1.2 ユーザー管理
- 会員登録・ログイン（メール認証）
- プロフィール管理
- 購入履歴確認
- お気に入り商品管理

#### 1.3 ショッピング機能
- カート機能（追加・削除・数量変更）
- 注文手続き（配送先入力、決済方法選択）
- 決済機能（クレジットカード、銀行振込）
- 注文確認・追跡

#### 1.4 その他
- お問い合わせフォーム
- よくある質問（FAQ）
- 利用規約・プライバシーポリシー

### 2. 管理者向け機能（toB要素）

#### 2.1 商品管理
- 商品登録・編集・削除
- カテゴリ管理
- 在庫管理
- 商品画像管理

#### 2.2 注文管理
- 注文一覧・詳細確認
- 注文ステータス更新
- 売上レポート
- 顧客管理

#### 2.3 システム管理
- 管理者アカウント管理
- サイト設定
- バックアップ・ログ管理

## 技術要件

### フロントエンド（Next.js）
```
技術スタック:
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- React Hook Form
- Zustand (状態管理)
- React Query (データフェッチング)
```

### バックエンド（Laravel API）
```
技術スタック:
- Laravel 10
- PHP 8.2+
- MySQL 8.0
- Laravel Sanctum (API認証)
- Laravel Cashier (決済)
- Laravel Queue (非同期処理)
```

### 外部サービス連携
- **決済**: Stripe API
- **画像**: Cloudinary または AWS S3
- **メール**: SendGrid または Mailgun
- **デプロイ**: Vercel (Frontend) + Railway/DigitalOcean (Backend)

## 非機能要件

### パフォーマンス
- ページ読み込み時間: 3秒以内
- 同時接続ユーザー: 100人以上対応
- 画像最適化（WebP対応）

### セキュリティ
- HTTPS通信必須
- XSS、CSRF対策
- SQL インジェクション対策
- 個人情報保護対応

### UI/UX
- レスポンシブデザイン（PC・タブレット・スマホ対応）
- 直感的な操作性
- アクセシビリティ準拠

## データベース設計

### 主要テーブル
- **users** - ユーザー情報
- **products** - 商品情報
- **categories** - カテゴリ情報
- **orders** - 注文情報
- **order_items** - 注文詳細
- **cart_items** - カート情報
- **reviews** - レビュー情報
- **favorites** - お気に入り情報

## API設計

### 主要エンドポイント
```
GET  /api/products          # 商品一覧取得
GET  /api/products/{id}     # 商品詳細取得
POST /api/auth/register     # ユーザー登録
POST /api/auth/login        # ログイン
GET  /api/cart              # カート取得
POST /api/cart              # カート追加
POST /api/orders            # 注文作成
GET  /api/orders            # 注文履歴取得
```

## 開発スケジュール（目安）

### Phase 1: 基盤構築（2週間）
- Laravel API基盤
- Next.js基盤
- 認証システム
- データベース設計・構築

### Phase 2: 商品・カート機能（3週間）
- 商品CRUD API
- 商品一覧・詳細画面
- カート機能

### Phase 3: 注文・決済機能（3週間）
- 注文処理API
- 決済連携
- 注文確認画面

### Phase 4: 管理画面・その他（2週間）
- 管理画面
- レビュー機能
- 最終調整・テスト

## 学習ポイント

1. **API設計**: RESTful APIの設計パターン
2. **認証**: JWT/Sanctumを使った認証システム
3. **状態管理**: フロントエンドでの状態管理
4. **決済連携**: 外部APIとの連携方法
5. **エラーハンドリング**: 適切なエラー処理

## 成果物
- 動作するECサイト
- ソースコード（GitHub）
- API仕様書
- 開発ドキュメント
- デプロイされたWebサイト

---

**推奨プロジェクト名: ShopFlow**
理由: 覚えやすく、ECサイトの流れるような購入体験を表現
